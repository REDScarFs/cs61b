<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
       
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <link rel="stylesheet" href="/assets/css/resource.css">
  <link rel="stylesheet" href="/assets/css/lab.css">
  <link rel="stylesheet" href="/assets/css/project.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="resource">
      <body style="font-family: Georgia,serif;">
    <h1 id="title-main">CS 61A: Solutions for Homework 8</h1>

    <p><strong>Solutions:</strong> You can find the file with
solutions for all questions <a href="hw08.scm">here</a>.</p>



    <h2 id="table-of-contents">Table of Contents</h2>
    <ul>
  <li><a href="#q1">Question 1</a></li>
  <li><a href="#q2">Question 2</a></li>
  <li><a href="#q3">Question 3</a></li>
</ul>


    

<p>The Scheme interpreter is included in the starter ZIP archive. To run the
Scheme interpreter, use the following command:</p>

<pre><code>python3 scheme</code></pre>

<p>To load a file (such as <code>hw08.scm</code>), use</p>

<pre><code>python3 scheme -load hw08.scm</code></pre>

<p>You can also use our <a href="http://cs61a.org/assets/interpreter/scheme.html">online Scheme interpreter</a>.</p>

<h3 class="question" id="q1">Question 1</h3>

<p>Write the function <code>deep-map</code>, which takes a function <code>fn</code> and a list <code>s</code> that
may contain numbers or other lists. It returns a list with identical structure
to <code>s</code>, but replacing each non-list element by the result of applying <code>fn</code> on
it, even for elements within sub-lists. Assume that the input has no dotted
(malformed) lists.</p>

<pre><code>(define (deep-map fn s)
<span class="sol-highlight">  (cond ((null? s) s)
        ((list? (car s)) (cons (deep-map fn (car s))
                               (deep-map fn (cdr s))))
        (else (cons (fn (car s))
                    (deep-map fn (cdr s)))))</span>
)</code></pre>

<p><em>Hint</em>: You can use the predicate <code>list?</code> to check if a value is a list.</p>

<p>To see examples and test your implementation, run</p>

<pre><code>python3 ok -u -q deep-map</code></pre>

<h3 class="question" id="q2">Question 2</h3>

<p>Write a procedure <code>substitute</code> that takes three arguments: a list <code>s</code>, an <code>old</code>
word, and a <code>new</code> word. It returns a list with the elements of <code>s</code>, but with
every occurrence of <code>old</code> replaced by <code>new</code>, even within sub-lists.</p>

<pre><code>(define (substitute s old new)
<span class="sol-highlight">  (deep-map (lambda (x) (if (eq? old x) new x)) s)</span>
)</code></pre>

<p>To see examples and test your implementation, run</p>

<pre><code>python3 ok -u -q substitute</code></pre>

<h3 class="question" id="q3">Question 3</h3>

<p>Write <code>sub-all</code>, which takes a list <code>s</code>, a list of <code>old</code> words, and a
list of <code>new</code> words; the last two lists must be the same length. It returns a
list with the elements of <code>s</code>, but with each word that occurs in the second
argument replaced by the corresponding word of the third argument.</p>

<pre><code>(define (sub-all s olds news)
<span class="sol-highlight">  (if (null? olds)
    s
    (sub-all (substitute s (car olds) (car news))
                     (cdr olds)
                     (cdr news)))</span>
)</code></pre>

<p>To see examples and test your implementation, run</p>

<pre><code>python3 ok -u -q sub-all</code></pre>

  

  

</body>
    </div>

    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        /* * * CONFIGURATION VARIABLES * * */
                        var disqus_shortname = 'gaotx';
                        
                        /* * * DON'T EDIT BELOW THIS LINE * * */
                        (function() {
                            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();   
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

  </body>
</html>